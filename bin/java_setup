#/bin/bash

sudo apt-get update

# Make sure we get a fresh install of java1.7
sudo apt-get purge openjdk-\*

# Make download folder
mkdir -v ~/download

# Navigate to download folder
cd ~/download

# Download java
wget --no-cookies --no-check-certificate --header "Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com" "http://download.oracle.com/otn-pub/java/jdk/7u45-b18/jdk-7u45-linux-x64.tar.gz"

# Unpack tar file
tar -xvf jdk-7u45-linux-x64.tar.gz


# Directory to hold your Oracle Java JDK and JRE binaries.
sudo mkdir -pv /usr/lib/jvm/jdk1.7.0

# Move files
sudo mv -fv jdk1.7.0_45/* /usr/lib/jvm/jdk1.7.0/

# Remove unnessasary file and folder
rm -rf jdk1.7.0_45
rm -rf jdk-7u45-linux-x64.tar.gz

# Setup java
sudo update-alternatives --install "/usr/bin/java" "java" "/usr/lib/jvm/jdk1.7.0/bin/java" 1

sudo update-alternatives --install "/usr/bin/javac" "javac" "/usr/lib/jvm/jdk1.7.0/bin/javac" 1

sudo update-alternatives --install "/usr/bin/javaws" "javaws" "/usr/lib/jvm/jdk1.7.0/bin/javaws" 1

